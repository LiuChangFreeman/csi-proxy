// Code generated by csi-proxy-api-gen. DO NOT EDIT.

package v1beta3

import (
	"context"

	"github.com/kubernetes-csi/csi-proxy/client/api/disk/v1beta3"
	"github.com/kubernetes-csi/csi-proxy/client/apiversion"
	"github.com/kubernetes-csi/csi-proxy/pkg/server/disk/impl"
	"google.golang.org/grpc"
)

var version = apiversion.NewVersionOrPanic("v1beta3")

type versionedAPI struct {
	apiGroupServer impl.ServerInterface
}

func NewVersionedServer(apiGroupServer impl.ServerInterface) impl.VersionedAPI {
	return &versionedAPI{
		apiGroupServer: apiGroupServer,
	}
}

func (s *versionedAPI) Register(grpcServer *grpc.Server) {
	v1beta3.RegisterDiskServer(grpcServer, s)
}

func (s *versionedAPI) GetDiskState(context context.Context, versionedRequest *v1beta3.GetDiskStateRequest) (*v1beta3.GetDiskStateResponse, error) {
	request := &impl.GetDiskStateRequest{}
	if err := Convert_v1beta3_GetDiskStateRequest_To_impl_GetDiskStateRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.GetDiskState(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.GetDiskStateResponse{}
	if err := Convert_impl_GetDiskStateResponse_To_v1beta3_GetDiskStateResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) GetDiskStats(context context.Context, versionedRequest *v1beta3.GetDiskStatsRequest) (*v1beta3.GetDiskStatsResponse, error) {
	request := &impl.GetDiskStatsRequest{}
	if err := Convert_v1beta3_GetDiskStatsRequest_To_impl_GetDiskStatsRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.GetDiskStats(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.GetDiskStatsResponse{}
	if err := Convert_impl_GetDiskStatsResponse_To_v1beta3_GetDiskStatsResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) ListDiskIDs(context context.Context, versionedRequest *v1beta3.ListDiskIDsRequest) (*v1beta3.ListDiskIDsResponse, error) {
	request := &impl.ListDiskIDsRequest{}
	if err := Convert_v1beta3_ListDiskIDsRequest_To_impl_ListDiskIDsRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.ListDiskIDs(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.ListDiskIDsResponse{}
	if err := Convert_impl_ListDiskIDsResponse_To_v1beta3_ListDiskIDsResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) ListDiskLocations(context context.Context, versionedRequest *v1beta3.ListDiskLocationsRequest) (*v1beta3.ListDiskLocationsResponse, error) {
	request := &impl.ListDiskLocationsRequest{}
	if err := Convert_v1beta3_ListDiskLocationsRequest_To_impl_ListDiskLocationsRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.ListDiskLocations(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.ListDiskLocationsResponse{}
	if err := Convert_impl_ListDiskLocationsResponse_To_v1beta3_ListDiskLocationsResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) PartitionDisk(context context.Context, versionedRequest *v1beta3.PartitionDiskRequest) (*v1beta3.PartitionDiskResponse, error) {
	request := &impl.PartitionDiskRequest{}
	if err := Convert_v1beta3_PartitionDiskRequest_To_impl_PartitionDiskRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.PartitionDisk(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.PartitionDiskResponse{}
	if err := Convert_impl_PartitionDiskResponse_To_v1beta3_PartitionDiskResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) Rescan(context context.Context, versionedRequest *v1beta3.RescanRequest) (*v1beta3.RescanResponse, error) {
	request := &impl.RescanRequest{}
	if err := Convert_v1beta3_RescanRequest_To_impl_RescanRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.Rescan(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.RescanResponse{}
	if err := Convert_impl_RescanResponse_To_v1beta3_RescanResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}

func (s *versionedAPI) SetDiskState(context context.Context, versionedRequest *v1beta3.SetDiskStateRequest) (*v1beta3.SetDiskStateResponse, error) {
	request := &impl.SetDiskStateRequest{}
	if err := Convert_v1beta3_SetDiskStateRequest_To_impl_SetDiskStateRequest(versionedRequest, request); err != nil {
		return nil, err
	}

	response, err := s.apiGroupServer.SetDiskState(context, request, version)
	if err != nil {
		return nil, err
	}

	versionedResponse := &v1beta3.SetDiskStateResponse{}
	if err := Convert_impl_SetDiskStateResponse_To_v1beta3_SetDiskStateResponse(response, versionedResponse); err != nil {
		return nil, err
	}

	return versionedResponse, err
}
